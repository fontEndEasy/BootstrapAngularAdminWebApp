<div class="container w-xxl w-auto-xs" ng-controller="forgotpwdCtrl">
  <a href class="navbar-brand block m-t">{{app.name}}</a>
  <div class="m-b-lg">
    <div class="wrapper text-center">
      <strong>重置密码</strong>
    </div>
    <form name="preResetFrom">
      <div class="list-group list-group-sm m-b-sm">
        <div class="list-group-item">
          <input type="text" placeholder="请输入您的手机号码" ng-model="phone" name="phone" class="form-control no-border" ng-disabled="phoneState" ng-pattern="/^[1][358][0-9]{9}$/" required>
        </div>
      </div>
      <button type="submit" ng-disabled="preResetFrom.$invalid||getSmsBTState" class="btn btn-lg btn-primary btn-block"  ng-click="preResetPassword()" >{{getSmsBT}}</button>
    </form>
    <form name="resetFrom" ng-show="resetPwdState">
      <div class="line m-t-lg  line-dashed b-b line-lg pull-in"></div>
      <div class="list-group list-group-sm  m-b-sm">
        <div class="list-group-item">
          <input type="text" placeholder="验证码" ng-model="code" class="form-control no-border" required>
        </div>
      </div>
      <div class="list-group list-group-sm m-b-sm">
        <div class="list-group-item">
          <input type="password" placeholder="新密码" ng-model="pwd" class="form-control no-border" required>
        </div>
      </div>
      <button type="submit" ng-disabled="resetFrom.$invalid" class="btn btn-lg btn-success btn-block" ng-click="resetPassword()">确认</button>
    </form>
    <div class="m-t text-danger text-center" ng-show="authError">
      {{authError}}&nbsp;&nbsp;&nbsp;&nbsp;<a class="text-primary" ui-sref="access.enterprise_signin">{{success}}</a>
    </div>
  </div>
  <div class="text-center" ng-include="'src/tpl/blocks/page_footer.html'">
    {% include 'blocks/page_footer.html' %}
  </div>
</div>